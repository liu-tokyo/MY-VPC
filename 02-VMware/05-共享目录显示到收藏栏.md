# 把宿主机的共享目录显示到收藏栏

## 1. 解决办法

### 1.1 直接“拖拽”法（最快）

1. 打开 Ubuntu 的 **文件管理器 (Nautilus)**。
2. 在顶部地址栏或通过路径导航到 `/mnt/hgfs`。
3. 点击并按住你的共享文件夹，直接**拖动到左侧侧边栏**。
4. 你会看到一个提示线，松开鼠标即可。

### 1.2 使用快捷键（最标准）

1. 进入 `/mnt/hgfs` 目录，并**进入**你想收藏的那个具体文件夹。
2. 按下键盘快捷键：`Ctrl + D`。
3. 该文件夹会立即出现在左侧“书签”区域。

------

### 1.3 把共享文件夹放到桌面

如果你觉得侧边栏还不够快，想在桌面上直接看到它，可以创建一个**软链接（类似 Windows 快捷方式）**。

在终端输入以下命令（假设你的当前用户名是 `user`）：

Bash

```
ln -s /mnt/hgfs/你的共享文件夹名 ~/Desktop/快捷方式名称
```

这样你的桌面上就会出现一个带小箭头的图标，双击直接直达。

------

### 注意事项

- **消失问题：** 如果你重启电脑后，侧边栏的收藏项点击报错“找不到位置”，那是因为你的**自动挂载（fstab）**没有配置成功。系统启动时如果没有自动挂载，那个收藏项就会变成“死链接”。
- **重命名：** 在侧边栏右键点击该收藏项，你可以选择“重命名”，这不会影响宿主机文件夹的真实名称。



## 2. 解决权限不足问题

### 2.1 获取你的 UID 和 GID

在 Ubuntu 终端输入以下命令：

Bash

```
id
```

你会看到类似 `uid=1000(yourname) gid=1000(yourname)` 的输出。请记住这两个数字（通常默认都是 **1000**）。

------

### 2.2 修改并执行强制挂载命令

先卸载当前可能出错的挂载，然后带上用户标识重新挂载：

1. **取消挂载：**

   Bash

   ```
   sudo umount /mnt/hgfs
   ```

2. **带权限重新挂载：**

   Bash

   ```
   sudo /usr/bin/vmhgfs-fuse .host:/ /mnt/hgfs -o allow_other -o uid=1000 -o gid=1000
   ```

   > **这里的核心参数：**
   >
   > - `allow_other`: 允许除了 root 以外的用户访问。
   > - `uid=1000`: 将文件的所有者指定为你（1000）。
   > - `gid=1000`: 将文件的所属组指定为你（1000）。

------

### 2.3 永久修复（修改 fstab）

为了保证下次开机不再出现“权限不足”，必须修改之前在 `/etc/fstab` 添加的那行配置：

1. 编辑文件：

   Bash

   ```
   sudo nano /etc/fstab
   ```

2. 将之前那行改为（注意参数中间用逗号分隔，不要有空格）：

   Plaintext

   ```
   .host:/    /mnt/hgfs    fuse.vmhgfs-fuse    defaults,allow_other,uid=1000,gid=1000    0    0
   ```

3. 保存退出（`Ctrl+O`, `Enter`, `Ctrl+X`）。

------

### 2.4 修改目录本身的权限（兜底方案）

如果上面的挂载参数生效后，你依然觉得不稳妥，可以手动把挂载点目录的控制权拿过来：

Bash

```
sudo chown -R 1000:1000 /mnt/hgfs
sudo chmod -R 777 /mnt/hgfs
```

------

### 2.5 验证是否成功

在文件管理器中再次点击该文件夹。如果图标不再显示“锁头”标志，且你可以自由创建或删除文件，说明权限已经完美解决。